<!doctype html>
<html>
<head>
    <meta charset=utf-8>

    <title>Ooyala Player Test | MPF</title>

    <!-- Dependency: jQuery -->
    <script src="../../../../external/jquery/jquery-1.6.2.js" type="text/javascript"></script>

    <!--Dependency: OKJS -->
    <script src="../../../../external/okjs/ok.js" type="text/javascript"></script>

    <!-- Unit : Player API -->
    <script src="../../../unit/html5/unit.html5.js" type="text/javascript"></script>

    <!-- Core: Ramp -->
    <script src="../../../core/metaplayer.js"></script>
    <script src="../../../core/utils/util.event.js"></script>
    <script src="../../../core/utils/util.proxy.js"></script>
    <script src="../../../core/utils/util.script.js"></script>
    <script src="../../../core/utils/util.timer.js"></script>
    <script src="../../../core/utils/util.format.js"></script>
    <script src="../../../core/utils/util.ui.js"></script>
    <script src="../../../core/playlist/player.playlist.js"></script>
    <script src="../../../core/layout/core.layout.js"></script>
    <script src="../../../core/metadata/core.metadata.js"></script>
    <script src="../../../core/search/core.search.js"></script>
    <script src="../../../core/cues/core.cues.js"></script>

    <!-- Service Plugin: RAMP -->
    <script src="../../../services/ramp/service.ramp.js"></script>

    <!-- Media: Ooyala -->
    <script src="../../../players/ooyala/player.ooyala.js"></script>

</head>

<body>
<h3>MetaPlayer &raquo; Unit &raquo; Ooyala Adapter</h3>


<!-- This JS embeds the Ooyala player -->
<!-- Note playerId, which will be the ID of the object tag -->
<!-- and the callback which will be the name of a function created on the window object -->
<!-- You can name these whatever you want, and MPF will figure it out -->
<script src="//player.ooyala.com/player.js?callback=receiveOoyalaEvent&playerId=ooyalaPlayer&embedCode=R2MWNnMjoNDx60S33u5cl9F2FfXgAba_&width=480&height=360&version=2"></script>
    
<script>

    var harness, video;

function receiveOoyalaEvent(playerId, eventName, eventArgs) {
    $( function () {

        var unit = okjs();

        harness = PlayerUnit( unit );

        unit.test("ramp setup", function() {
            //ramp services
            video = MetaPlayer.ooyala();

            video.src = 'R2MWNnMjoNDx60S33u5cl9F2FfXgAba_';
            harness.media = video;

        });

        harness.addTests();

        unit.start();
    });
}

</script>

</body>
</html>