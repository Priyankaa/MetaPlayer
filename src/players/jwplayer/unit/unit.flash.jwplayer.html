<!DOCTYPE html>
<html>
<head>

    <title>JWPlayer Flash Test | MPF</title>

    <style>
        #target {
            width: 300px;
            height: 150px;
            background:  #333;
            position: fixed;
            top: 10px; right: 10px;
        }
    </style>

    <!--Dependency: jQuery-->
    <script src="../../../../external/jquery/jquery-1.6.2.js" type="text/javascript"></script>

    <!--Dependency: JwPlayer -->
    <script src="../../../../external/jwplayer/jwplayer.js"></script>

    <!--Dependency: OKJS -->
    <script src="../../../../external/okjs/ok.js" type="text/javascript"></script>

    <!-- Unit : Player API -->
    <script src="../../../unit/html5/unit.html5.js" type="text/javascript"></script>

    <!-- Core: Ramp -->
    <script src="../../../core/metaplayer.js"></script>
    <script src="../../../core/utils/util.event.js"></script>
    <script src="../../../core/utils/util.proxy.js"></script>
    <script src="../../../core/utils/util.script.js"></script>
    <script src="../../../core/utils/util.timer.js"></script>
    <script src="../../../core/utils/util.format.js"></script>
    <script src="../../../core/utils/util.ui.js"></script>
    <script src="../../../core/playlist/player.playlist.js"></script>
    <script src="../../../core/metadata/core.metadata.js"></script>
    <script src="../../../core/search/core.search.js"></script>
    <script src="../../../core/cues/core.cues.js"></script>
    <script src="../../../core/layout/core.layout.js"></script>
    <link href="../../../core/layout/core.layout.css" rel="stylesheet" type="text/css">

    <!-- Media Plugin: HTML5 -->
    <script src="../../../players/html5/player.html5.js"></script>

    <!-- Media Plugin: Flowplayer -->
    <script src="../../../players/jwplayer/player.jwplayer.js"></script>

    <script type="text/javascript">
        var video, jwp;

        $( function () {

            var unit = okjs({
                exceptions: 1, // enable for debugging
                verbose: true
            });

            var harness = PlayerUnit( unit );

            unit.test("ramp setup", function () {

                jwp = jwplayer('jwtarget').setup({
                    height: '150',
                    width:  '300',
                    autostart   : false,
                    autobuffer   : false,
                    flashplayer: '../../../../../external/jwplayer/jwplayer.flash.swf',
                    file: '../../../../media/elephants_dream/elephant.ogv',
                    image       : "",
                    volume      : 0
                });

                jwp.onReady( unit.callback("jwp ready", function () {
                    video = MetaPlayer.jwplayer( jwp );
                    video.autoplay = false;
                    video.preload = "none";
                    harness.media = video;
                }))
            });

            harness.addTests();

            unit.start();
        });
    </script>
</head>
<body>

<h3>MetaPlayer &raquo; Unit &raquo; JWPlayer Flash Adapter</h3>

<div id='jwtarget'></div>


</body>
</html>
